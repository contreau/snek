var Oe=Object.defineProperty;var Ae=(n,t,e)=>t in n?Oe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var W=(n,t,e)=>(Ae(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function e(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(c){if(c.ep)return;c.ep=!0;const r=e(c);fetch(c.href,r)}})();function A(){}function le(n){return n()}function $(){return Object.create(null)}function U(n){n.forEach(le)}function ue(n){return typeof n=="function"}function F(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function Ee(n){return Object.keys(n).length===0}function xe(n,...t){if(n==null){for(const o of t)o(void 0);return A}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function q(n,t,e){n.$$.on_destroy.push(xe(t,e))}function B(n,t,e){return n.set(e),t}function S(n,t){n.appendChild(t)}function w(n,t,e){n.insertBefore(t,e||null)}function y(n){n.parentNode&&n.parentNode.removeChild(n)}function ie(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function b(n){return document.createElement(n)}function K(n){return document.createTextNode(n)}function x(){return K(" ")}function he(){return K("")}function Pe(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function O(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function ve(n){return Array.from(n.childNodes)}function ee(n,t){t=""+t,n.data!==t&&(n.data=t)}function te(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}let J;function M(n){J=n}const C=[],ne=[];let L=[];const re=[],je=Promise.resolve();let z=!1;function Ce(){z||(z=!0,je.then(de))}function H(n){L.push(n)}const G=new Set;let v=0;function de(){if(v!==0)return;const n=J;do{try{for(;v<C.length;){const t=C[v];v++,M(t),Le(t.$$)}}catch(t){throw C.length=0,v=0,t}for(M(null),C.length=0,v=0;ne.length;)ne.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];G.has(e)||(G.add(e),e())}L.length=0}while(C.length);for(;re.length;)re.pop()();z=!1,G.clear(),M(n)}function Le(n){if(n.fragment!==null){n.update(),U(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(H)}}function Me(n){const t=[],e=[];L.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),L=t}const I=new Set;let Re;function Q(n,t){n&&n.i&&(I.delete(n),n.i(t))}function ae(n,t,e,o){if(n&&n.o){if(I.has(n))return;I.add(n),Re.c.push(()=>{I.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function D(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ie(n){n&&n.c()}function pe(n,t,e){const{fragment:o,after_update:c}=n.$$;o&&o.m(t,e),H(()=>{const r=n.$$.on_mount.map(le).filter(ue);n.$$.on_destroy?n.$$.on_destroy.push(...r):U(r),n.$$.on_mount=[]}),c.forEach(H)}function _e(n,t){const e=n.$$;e.fragment!==null&&(Me(e.after_update),U(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ne(n,t){n.$$.dirty[0]===-1&&(C.push(n),Ce(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function ge(n,t,e,o,c,r,f=null,s=[-1]){const d=J;M(n);const u=n.$$={fragment:null,ctx:[],props:r,update:A,not_equal:c,bound:$(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:$(),dirty:s,skip_bound:!1,root:t.target||d.$$.root};f&&f(u.root);let h=!1;if(u.ctx=e?e(n,t.props||{},(l,g,...a)=>{const p=a.length?a[0]:g;return u.ctx&&c(u.ctx[l],u.ctx[l]=p)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](p),h&&Ne(n,l)),g}):[],u.update(),h=!0,U(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){const l=ve(t.target);u.fragment&&u.fragment.l(l),l.forEach(y)}else u.fragment&&u.fragment.c();t.intro&&Q(n.$$.fragment),pe(n,t.target,t.anchor),de()}M(d)}class me{constructor(){W(this,"$$");W(this,"$$set")}$destroy(){_e(this,1),this.$destroy=A}$on(t,e){if(!ue(e))return A;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const c=o.indexOf(e);c!==-1&&o.splice(c,1)}}$set(t){this.$$set&&!Ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qe);const j=[];function be(n,t=A){let e;const o=new Set;function c(s){if(F(n,s)&&(n=s,e)){const d=!j.length;for(const u of o)u[1](),j.push(u,n);if(d){for(let u=0;u<j.length;u+=2)j[u][0](j[u+1]);j.length=0}}}function r(s){c(s(n))}function f(s,d=A){const u=[s,d];return o.add(u),o.size===1&&(e=t(c,r)||A),s(n),()=>{o.delete(u),o.size===0&&e&&(e(),e=null)}}return{set:c,update:r,subscribe:f}}const V=be(0),N=be(0);function oe(n,t,e){const o=n.slice();return o[21]=t[e],o[23]=e,o}function se(n,t,e){const o=n.slice();return o[21]=t[e],o[25]=e,o}function Ke(n){let t;return{c(){t=b("div"),O(t,"class","grid-square svelte-hvvw1t")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function De(n){let t;return{c(){t=b("div"),O(t,"class","grid-square foodSquare svelte-hvvw1t")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function Ue(n){let t;return{c(){t=b("div"),O(t,"class","grid-square activeSquare svelte-hvvw1t")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function ce(n){let t,e;function o(...s){return n[13](n[25],n[23],...s)}function c(s,d){return d&1&&(t=null),t==null&&(t=!!Object.values(s[0]).some(o)),t?Ue:s[25]===s[2]&&s[23]===s[1]?De:Ke}let r=c(n,-1),f=r(n);return{c(){f.c(),e=he()},m(s,d){f.m(s,d),w(s,e,d)},p(s,d){n=s,r!==(r=c(n,d))&&(f.d(1),f=r(n),f&&(f.c(),f.m(e.parentNode,e)))},d(s){s&&y(e),f.d(s)}}}function fe(n){let t,e,o=D(n[6]),c=[];for(let r=0;r<o.length;r+=1)c[r]=ce(se(n,o,r));return{c(){t=b("div");for(let r=0;r<c.length;r+=1)c[r].c();e=x(),O(t,"class","grid-row svelte-hvvw1t")},m(r,f){w(r,t,f);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(t,null);S(t,e)},p(r,f){if(f&7){o=D(r[6]);let s;for(s=0;s<o.length;s+=1){const d=se(r,o,s);c[s]?c[s].p(d,f):(c[s]=ce(d),c[s].c(),c[s].m(t,e))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}},d(r){r&&y(t),ie(c,r)}}}function Te(n){let t;return{c(){t=b("p"),t.textContent="GAME OVER - PRESS SPACE TO REPLAY",O(t,"class","svelte-hvvw1t")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function We(n){let t;return{c(){t=b("p"),t.textContent="PAUSED",O(t,"class","svelte-hvvw1t")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function Be(n){let t;return{c(){t=b("p"),t.textContent="PRESS SPACE TO PLAY - USE WASD OR ARROW KEYS",O(t,"class","svelte-hvvw1t")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function Ge(n){let t,e,o,c,r,f=D(n[7]),s=[];for(let l=0;l<f.length;l+=1)s[l]=fe(oe(n,f,l));function d(l,g){if(!l[4])return Be;if(l[5])return We;if(l[3])return Te}let u=d(n),h=u&&u(n);return{c(){t=b("section");for(let l=0;l<s.length;l+=1)s[l].c();e=x(),h&&h.c(),o=he(),O(t,"class","game-grid svelte-hvvw1t")},m(l,g){w(l,t,g);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);w(l,e,g),h&&h.m(l,g),w(l,o,g),c||(r=Pe(window,"keydown",n[8]),c=!0)},p(l,[g]){if(g&71){f=D(l[7]);let a;for(a=0;a<f.length;a+=1){const p=oe(l,f,a);s[a]?s[a].p(p,g):(s[a]=fe(p),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=f.length}u!==(u=d(l))&&(h&&h.d(1),h=u&&u(l),h&&(h.c(),h.m(o.parentNode,o)))},i:A,o:A,d(l){l&&(y(t),y(e),y(o)),ie(s,l),h&&h.d(l),c=!1,r()}}}let Y=50;function Ye(n,t,e){let o,c;q(n,N,_=>e(11,o=_)),q(n,V,_=>e(12,c=_));let r={head0:[21,9]},f=[];const s=Array(43),d=Array(19);let u,h,l=!1,g=!1,a=!0,p="right",k;function m(){for(e(2,h=Math.floor(Math.random()*43)),e(1,u=Math.floor(Math.random()*19));Object.values(r).some(_=>_.every((i,P)=>i===[h,u][P]));)e(2,h=Math.floor(Math.random()*43)),e(1,u=Math.floor(Math.random()*19))}function E(){let _=[r.head0[0],r.head0[1]-1];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===_[0]&&r[`head${i}`][1]===_[1]){e(3,l=!0);return}if(r.head0[1]-1<0){e(3,l=!0);return}else if(r.head0[1]>0){e(0,r.head0[1]=r.head0[1]-1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}else e(0,r),e(1,u),e(2,h),e(9,f),e(11,o);p="up"}function X(){let _=[r.head0[0],r.head0[1]+1];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===_[0]&&r[`head${i}`][1]===_[1]){e(3,l=!0);return}if(r.head0[1]+1>d.length-1){e(3,l=!0);return}else if(r.head0[1]===d.length-1)e(0,r),e(1,u),e(2,h),e(9,f),e(11,o);else if(r.head0[1]===0||r.head0[1]>0){e(0,r.head0[1]=r.head0[1]+1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}p="down"}function T(){let _=[r.head0[0]+1,r.head0[1]];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===_[0]&&r[`head${i}`][1]===_[1]){e(3,l=!0);return}if(r.head0[0]+1>s.length-1){e(3,l=!0);return}else if(r.head0[0]===s.length-1)e(0,r),e(1,u),e(2,h),e(9,f),e(11,o);else if(r.head0[0]===0||r.head0[0]>0){e(0,r.head0[0]=r.head0[0]+1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}p="right"}function Z(){let _=[r.head0[0]-1,r.head0[1]];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===_[0]&&r[`head${i}`][1]===_[1]){e(3,l=!0);return}if(r.head0[0]-1<0){e(3,l=!0);return}else if(r.head0[0]>0){e(0,r.head0[0]=r.head0[0]-1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}else e(0,r),e(1,u),e(2,h),e(9,f),e(11,o);p="left"}function R(_,i,P){a||p!==_&&p!==i&&(P(),clearInterval(k),e(10,k=setInterval(()=>{P()},Y)))}function ye(_){switch(_.code){case"ArrowUp":case"KeyW":l||R("down","up",E);break;case"ArrowDown":case"KeyS":l||R("up","down",X);break;case"ArrowRight":case"KeyD":l||R("left","right",T);break;case"ArrowLeft":case"KeyA":l||R("right","left",Z);break;case"Space":g||(m(),e(4,g=!0)),l?(B(N,o=0,o),e(0,r={head0:[21,9]}),p="right",e(10,k=setInterval(()=>{T()},Y)),e(3,l=!1),m()):!l&&a?(e(5,a=!1),e(10,k=setInterval(()=>{p==="up"?E():p==="down"?X():p==="right"?T():p==="left"&&Z()},Y))):(e(5,a=!0),clearInterval(k))}}const we=(_,i,P)=>P.every((ke,Se)=>ke===[_,i][Se]);return n.$$.update=()=>{n.$$.dirty&2567&&r.head0[1]===u&&r.head0[0]===h&&(e(0,r[`head${Object.keys(r).length}`]=f[f.length-1],r),m(),B(N,o+=1,o)),n.$$.dirty&7176&&l&&(clearInterval(k),c<o&&B(V,c=o,c))},[r,u,h,l,g,a,s,d,ye,f,k,o,c,we]}class ze extends me{constructor(t){super(),ge(this,t,Ye,Ge,F,{})}}const He="/snek/assets/android-chrome-192x192-1jPSKLRP.png";function Ve(n){let t;return{c(){t=b("div"),t.innerHTML=`<img src="${He}" alt="pink snake" width="100" height="100"/> <p class="svelte-1ktcf2n">Sorry! Computer only rn.</p>`,O(t,"class","mobile-message svelte-1ktcf2n")},m(e,o){w(e,t,o)},p:A,i:A,o:A,d(e){e&&y(t)}}}function Fe(n){let t,e,o,c,r,f,s,d,u,h,l,g,a,p,k;return p=new ze({}),{c(){t=b("div"),e=b("p"),o=b("span"),o.textContent="high score:",c=x(),r=K(n[0]),f=x(),s=b("p"),s.textContent="definitely not snake",d=x(),u=b("p"),h=b("span"),h.textContent="current score:",l=x(),g=K(n[1]),a=x(),Ie(p.$$.fragment),te(o,"color","#ff46b5"),O(e,"class","svelte-1ktcf2n"),O(s,"class","svelte-1ktcf2n"),te(h,"color","#ff46b5"),O(u,"class","svelte-1ktcf2n"),O(t,"class","hud-grid svelte-1ktcf2n")},m(m,E){w(m,t,E),S(t,e),S(e,o),S(e,c),S(e,r),S(t,f),S(t,s),S(t,d),S(t,u),S(u,h),S(u,l),S(u,g),w(m,a,E),pe(p,m,E),k=!0},p(m,E){(!k||E&1)&&ee(r,m[0]),(!k||E&2)&&ee(g,m[1])},i(m){k||(Q(p.$$.fragment,m),k=!0)},o(m){ae(p.$$.fragment,m),k=!1},d(m){m&&(y(t),y(a)),_e(p,m)}}}function Je(n){let t,e,o,c,r,f;const s=[Fe,Ve],d=[];function u(h,l){return window.screen.width>=1280?0:1}return c=u(),r=d[c]=s[c](n),{c(){t=b("main"),e=b("h1"),e.textContent="snek",o=x(),r.c(),O(e,"class","svelte-1ktcf2n")},m(h,l){w(h,t,l),S(t,e),S(t,o),d[c].m(t,null),f=!0},p(h,[l]){r.p(h,l)},i(h){f||(Q(r),f=!0)},o(h){ae(r),f=!1},d(h){h&&y(t),d[c].d()}}}function Qe(n,t,e){let o,c;return q(n,V,r=>e(0,o=r)),q(n,N,r=>e(1,c=r)),[o,c]}class Xe extends me{constructor(t){super(),ge(this,t,Qe,Je,F,{})}}new Xe({target:document.getElementById("app")});
