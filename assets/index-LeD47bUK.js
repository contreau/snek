var Oe=Object.defineProperty;var xe=(n,t,e)=>t in n?Oe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var K=(n,t,e)=>(xe(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function e(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(c){if(c.ep)return;c.ep=!0;const r=e(c);fetch(c.href,r)}})();function x(){}function le(n){return n()}function $(){return Object.create(null)}function D(n){n.forEach(le)}function ue(n){return typeof n=="function"}function v(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}function Pe(n){return Object.keys(n).length===0}function Ee(n,...t){if(n==null){for(const o of t)o(void 0);return x}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function T(n,t,e){n.$$.on_destroy.push(Ee(t,e))}function z(n,t,e){return n.set(e),t}function S(n,t){n.appendChild(t)}function w(n,t,e){n.insertBefore(t,e||null)}function y(n){n.parentNode&&n.parentNode.removeChild(n)}function ie(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function b(n){return document.createElement(n)}function U(n){return document.createTextNode(n)}function E(){return U(" ")}function de(){return U("")}function Ae(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function O(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function qe(n){return Array.from(n.childNodes)}function ee(n,t){t=""+t,n.data!==t&&(n.data=t)}function te(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}let J;function L(n){J=n}const j=[],ne=[];let C=[];const re=[],je=Promise.resolve();let Y=!1;function Ce(){Y||(Y=!0,je.then(he))}function F(n){C.push(n)}const H=new Set;let A=0;function he(){if(A!==0)return;const n=J;do{try{for(;A<j.length;){const t=j[A];A++,L(t),Le(t.$$)}}catch(t){throw j.length=0,A=0,t}for(L(null),j.length=0,A=0;ne.length;)ne.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];H.has(e)||(H.add(e),e())}C.length=0}while(j.length);for(;re.length;)re.pop()();Y=!1,H.clear(),L(n)}function Le(n){if(n.fragment!==null){n.update(),D(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(F)}}function Ie(n){const t=[],e=[];C.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),C=t}const R=new Set;let Ne;function Q(n,t){n&&n.i&&(R.delete(n),n.i(t))}function ae(n,t,e,o){if(n&&n.o){if(R.has(n))return;R.add(n),Ne.c.push(()=>{R.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function B(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Re(n){n&&n.c()}function pe(n,t,e){const{fragment:o,after_update:c}=n.$$;o&&o.m(t,e),F(()=>{const r=n.$$.on_mount.map(le).filter(ue);n.$$.on_destroy?n.$$.on_destroy.push(...r):D(r),n.$$.on_mount=[]}),c.forEach(F)}function ge(n,t){const e=n.$$;e.fragment!==null&&(Ie(e.after_update),D(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Me(n,t){n.$$.dirty[0]===-1&&(j.push(n),Ce(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function _e(n,t,e,o,c,r,f=null,s=[-1]){const h=J;L(n);const u=n.$$={fragment:null,ctx:[],props:r,update:x,not_equal:c,bound:$(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:$(),dirty:s,skip_bound:!1,root:t.target||h.$$.root};f&&f(u.root);let d=!1;if(u.ctx=e?e(n,t.props||{},(l,_,...a)=>{const p=a.length?a[0]:_;return u.ctx&&c(u.ctx[l],u.ctx[l]=p)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](p),d&&Me(n,l)),_}):[],u.update(),d=!0,D(u.before_update),u.fragment=o?o(u.ctx):!1,t.target){if(t.hydrate){const l=qe(t.target);u.fragment&&u.fragment.l(l),l.forEach(y)}else u.fragment&&u.fragment.c();t.intro&&Q(n.$$.fragment),pe(n,t.target,t.anchor),he()}L(h)}class me{constructor(){K(this,"$$");K(this,"$$set")}$destroy(){ge(this,1),this.$destroy=x}$on(t,e){if(!ue(e))return x;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const c=o.indexOf(e);c!==-1&&o.splice(c,1)}}$set(t){this.$$set&&!Pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Te="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Te);const q=[];function be(n,t=x){let e;const o=new Set;function c(s){if(v(n,s)&&(n=s,e)){const h=!q.length;for(const u of o)u[1](),q.push(u,n);if(h){for(let u=0;u<q.length;u+=2)q[u][0](q[u+1]);q.length=0}}}function r(s){c(s(n))}function f(s,h=x){const u=[s,h];return o.add(u),o.size===1&&(e=t(c,r)||x),s(n),()=>{o.delete(u),o.size===0&&e&&(e(),e=null)}}return{set:c,update:r,subscribe:f}}const W=be(0),M=be(0);function oe(n,t,e){const o=n.slice();return o[21]=t[e],o[23]=e,o}function se(n,t,e){const o=n.slice();return o[21]=t[e],o[25]=e,o}function Ue(n){let t;return{c(){t=b("div"),O(t,"class","grid-square svelte-1q1d7bu")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function Be(n){let t;return{c(){t=b("div"),O(t,"class","grid-square foodSquare svelte-1q1d7bu")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function De(n){let t;return{c(){t=b("div"),O(t,"class","grid-square activeSquare svelte-1q1d7bu")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function ce(n){let t,e;function o(...s){return n[13](n[25],n[23],...s)}function c(s,h){return h&1&&(t=null),t==null&&(t=!!Object.values(s[0]).some(o)),t?De:s[25]===s[2]&&s[23]===s[1]?Be:Ue}let r=c(n,-1),f=r(n);return{c(){f.c(),e=de()},m(s,h){f.m(s,h),w(s,e,h)},p(s,h){n=s,r!==(r=c(n,h))&&(f.d(1),f=r(n),f&&(f.c(),f.m(e.parentNode,e)))},d(s){s&&y(e),f.d(s)}}}function fe(n){let t,e,o=B(n[6]),c=[];for(let r=0;r<o.length;r+=1)c[r]=ce(se(n,o,r));return{c(){t=b("div");for(let r=0;r<c.length;r+=1)c[r].c();e=E(),O(t,"class","grid-row svelte-1q1d7bu")},m(r,f){w(r,t,f);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(t,null);S(t,e)},p(r,f){if(f&7){o=B(r[6]);let s;for(s=0;s<o.length;s+=1){const h=se(r,o,s);c[s]?c[s].p(h,f):(c[s]=ce(h),c[s].c(),c[s].m(t,e))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}},d(r){r&&y(t),ie(c,r)}}}function Ge(n){let t;return{c(){t=b("p"),t.textContent="GAME OVER - PRESS SPACE TO REPLAY",O(t,"class","svelte-1q1d7bu")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function Ke(n){let t;return{c(){t=b("p"),t.textContent="PAUSED",O(t,"class","svelte-1q1d7bu")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function ze(n){let t;return{c(){t=b("p"),t.textContent="PRESS SPACE TO PLAY",O(t,"class","svelte-1q1d7bu")},m(e,o){w(e,t,o)},d(e){e&&y(t)}}}function He(n){let t,e,o,c,r,f=B(n[7]),s=[];for(let l=0;l<f.length;l+=1)s[l]=fe(oe(n,f,l));function h(l,_){if(!l[4])return ze;if(l[5])return Ke;if(l[3])return Ge}let u=h(n),d=u&&u(n);return{c(){t=b("section");for(let l=0;l<s.length;l+=1)s[l].c();e=E(),d&&d.c(),o=de(),O(t,"class","game-grid svelte-1q1d7bu")},m(l,_){w(l,t,_);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);w(l,e,_),d&&d.m(l,_),w(l,o,_),c||(r=Ae(window,"keydown",n[8]),c=!0)},p(l,[_]){if(_&71){f=B(l[7]);let a;for(a=0;a<f.length;a+=1){const p=oe(l,f,a);s[a]?s[a].p(p,_):(s[a]=fe(p),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=f.length}u!==(u=h(l))&&(d&&d.d(1),d=u&&u(l),d&&(d.c(),d.m(o.parentNode,o)))},i:x,o:x,d(l){l&&(y(t),y(e),y(o)),ie(s,l),d&&d.d(l),c=!1,r()}}}let V=50;function Ve(n,t,e){let o,c;T(n,M,g=>e(11,o=g)),T(n,W,g=>e(12,c=g));let r={head0:[21,9]},f=[];const s=Array(43),h=Array(19);let u,d,l=!1,_=!1,a=!0,p="right",k;function m(){e(2,d=Math.floor(Math.random()*21)),e(1,u=Math.floor(Math.random()*11)),d===10&&u===5&&e(2,d++,d)}function P(){let g=[r.head0[0],r.head0[1]-1];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===g[0]&&r[`head${i}`][1]===g[1]){e(3,l=!0);return}if(r.head0[1]-1<0){e(3,l=!0);return}else if(r.head0[1]>0){e(0,r.head0[1]=r.head0[1]-1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}else e(0,r),e(1,u),e(2,d),e(9,f),e(11,o);p="up"}function X(){let g=[r.head0[0],r.head0[1]+1];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===g[0]&&r[`head${i}`][1]===g[1]){e(3,l=!0);return}if(r.head0[1]+1>h.length-1){e(3,l=!0);return}else if(r.head0[1]===h.length-1)e(0,r),e(1,u),e(2,d),e(9,f),e(11,o);else if(r.head0[1]===0||r.head0[1]>0){e(0,r.head0[1]=r.head0[1]+1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}p="down"}function G(){let g=[r.head0[0]+1,r.head0[1]];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===g[0]&&r[`head${i}`][1]===g[1]){e(3,l=!0);return}if(r.head0[0]+1>s.length-1){e(3,l=!0);return}else if(r.head0[0]===s.length-1)e(0,r),e(1,u),e(2,d),e(9,f),e(11,o);else if(r.head0[0]===0||r.head0[0]>0){e(0,r.head0[0]=r.head0[0]+1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}p="right"}function Z(){let g=[r.head0[0]-1,r.head0[1]];for(let i=1;i<Object.keys(r).length;i++)if(r[`head${i}`][0]===g[0]&&r[`head${i}`][1]===g[1]){e(3,l=!0);return}if(r.head0[0]-1<0){e(3,l=!0);return}else if(r.head0[0]>0){e(0,r.head0[0]=r.head0[0]-1,r),f.push(r.head0.slice()),e(9,f);for(let i=1;i<Object.keys(r).length;i++)e(0,r[`head${i}`]=f[f.length-i-1],r)}else e(0,r),e(1,u),e(2,d),e(9,f),e(11,o);p="left"}function I(g,i,N){a||p!==g&&p!==i&&(N(),clearInterval(k),e(10,k=setInterval(()=>{N()},V)))}function ye(g){switch(g.code){case"ArrowUp":l||I("down","up",P);break;case"ArrowDown":l||I("up","down",X);break;case"ArrowRight":l||I("left","right",G);break;case"ArrowLeft":l||I("right","left",Z);break;case"Space":_||(m(),e(4,_=!0)),l?(z(M,o=0,o),e(0,r={head0:[21,9]}),p="right",e(10,k=setInterval(()=>{G()},V)),e(3,l=!1),m()):!l&&a?(e(5,a=!1),e(10,k=setInterval(()=>{p==="up"?P():p==="down"?X():p==="right"?G():p==="left"&&Z()},V))):(e(5,a=!0),clearInterval(k))}}const we=(g,i,N)=>N.every((ke,Se)=>ke===[g,i][Se]);return n.$$.update=()=>{n.$$.dirty&2567&&r.head0[1]===u&&r.head0[0]===d&&(e(0,r[`head${Object.keys(r).length}`]=f[f.length-1],r),m(),z(M,o+=1,o)),n.$$.dirty&7176&&l&&(clearInterval(k),c<o&&z(W,c=o,c))},[r,u,d,l,_,a,s,h,ye,f,k,o,c,we]}class Ye extends me{constructor(t){super(),_e(this,t,Ve,He,v,{})}}const Fe="/snek/assets/android-chrome-192x192-1jPSKLRP.png";function We(n){let t;return{c(){t=b("div"),t.innerHTML=`<img src="${Fe}" alt="pink snake" width="100" height="100"/> <p class="svelte-1lgr5s3">Sorry! Computer only rn.</p>`,O(t,"class","mobile-message svelte-1lgr5s3")},m(e,o){w(e,t,o)},p:x,i:x,o:x,d(e){e&&y(t)}}}function ve(n){let t,e,o,c,r,f,s,h,u,d,l,_,a,p,k;return p=new Ye({}),{c(){t=b("div"),e=b("p"),o=b("span"),o.textContent="high score:",c=E(),r=U(n[0]),f=E(),s=b("p"),s.textContent="definitely not snake",h=E(),u=b("p"),d=b("span"),d.textContent="current score:",l=E(),_=U(n[1]),a=E(),Re(p.$$.fragment),te(o,"color","#ff46b5"),O(e,"class","svelte-1lgr5s3"),O(s,"class","svelte-1lgr5s3"),te(d,"color","#ff46b5"),O(u,"class","svelte-1lgr5s3"),O(t,"class","hud-grid svelte-1lgr5s3")},m(m,P){w(m,t,P),S(t,e),S(e,o),S(e,c),S(e,r),S(t,f),S(t,s),S(t,h),S(t,u),S(u,d),S(u,l),S(u,_),w(m,a,P),pe(p,m,P),k=!0},p(m,P){(!k||P&1)&&ee(r,m[0]),(!k||P&2)&&ee(_,m[1])},i(m){k||(Q(p.$$.fragment,m),k=!0)},o(m){ae(p.$$.fragment,m),k=!1},d(m){m&&(y(t),y(a)),ge(p,m)}}}function Je(n){let t,e,o,c,r,f;const s=[ve,We],h=[];function u(d,l){return window.screen.width>=1280?0:1}return c=u(),r=h[c]=s[c](n),{c(){t=b("main"),e=b("h1"),e.textContent="snek",o=E(),r.c(),O(e,"class","svelte-1lgr5s3")},m(d,l){w(d,t,l),S(t,e),S(t,o),h[c].m(t,null),f=!0},p(d,[l]){r.p(d,l)},i(d){f||(Q(r),f=!0)},o(d){ae(r),f=!1},d(d){d&&y(t),h[c].d()}}}function Qe(n,t,e){let o,c;return T(n,W,r=>e(0,o=r)),T(n,M,r=>e(1,c=r)),[o,c]}class Xe extends me{constructor(t){super(),_e(this,t,Qe,Je,v,{})}}new Xe({target:document.getElementById("app")});
